<Sql>
    select *
    from
    table
    where
    1=1
    <if>
        <case cond="a=1">
            and a = {$a}
        </case>
        <else>
            and a = 1
        </else>
    </if>
    and b in (
    <foreach target = 'a' item = 'item' delimiter = ','>
      item
    </foreach>
    )
</Sql>